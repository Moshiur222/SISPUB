{% extends "home/base/base.html" %}
{% load static %}

{% block extra_css %}
<style>

/* --- Header Section --- */
.news-header {
    text-align: center;
    padding: 250px 20px 50px;
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)),
                url("{% static 'home/images/banner4.png' %}");
    background-size: cover;
    background-position: center;
    color: white;
    margin-bottom: 50px;
    border-radius: 10px;
}

.news-header h1 {
    color: #fff;
    font-size: 35px;
}

/* --- Single Card --- */
.video-card {
    max-width: 1400px;
    margin: 0 auto 60px;
    background: #fff;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

/* --- Video Grid inside ONE card --- */
.video-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

/* --- Video Wrapper --- */
.video-wrapper {
    position: relative;
    padding-top: 56.25%;
}

.video-wrapper iframe {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    border: none;
}

/* --- Title --- */
.main-title {
    text-align: center;
    font-size: 1.8rem;
    margin-bottom: 20px;
    font-weight: 600;
}

</style>
{% endblock %}

{% block main %}

<!-- Header -->
<div class="news-header ">
    <h1>Video Gallery</h1>
</div>

<div class="container">

    {% if events %}

        <!-- ONE SINGLE CARD -->
        <div class="video-card">
            <div class="video-grid">

                {% for event in events %}

                    {% if event.embed_url_1 %}
                    <div class="video-wrapper">
                        <iframe title="{{ event.title }}" src="{{ event.embed_url_1 }}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    {% endif %}

                    {% if event.embed_url_2 %}
                    <div class="video-wrapper">
                        <iframe title="{{ event.title }}" src="{{ event.embed_url_2 }}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    {% endif %}

                {% endfor %}

            </div>

        </div>

    {% else %}

        <div style="text-align:center; padding: 80px;">
            <h3>No videos available</h3>
        </div>

    {% endif %}

</div>

{% endblock %}